import React, { useContext, useEffect } from 'react';
import styled from 'styled-components';
import { UserContext } from '../../../context/UserContext';
import { useNavigate } from 'react-router-dom';

const Top = styled.article`
  fill: ${(props) => props.iconColor};
  background-color: transparent;
  width: 100%;
  padding: 5px 0px 25px 0px;
  display: flex;
  justify-content: flex-end;
  button {
    margin-left: 15px;
  }
`;
export const TopIcon = styled.svg`
  &:path {
    fill: ${(color) => color || 'white'};
  }
`;
const TopBar = (props) => {
  const navigate = useNavigate();
  const { user, updateUser } = useContext(UserContext);

  const getUserInfo = async () => {
    await updateUser(JSON.parse(localStorage.getItem('user')));
  };

  useEffect(() => {
    getUserInfo();
  }, []);

  const goToUserProfile = () => {
    navigate(`/profile/${user.accountname}`);
  };

  return (
    <>
      <Top {...props}>
        <button>
          <TopIcon
            width='21'
            height='22'
            viewBox='0 0 21 22'
            fill={props.iconColor}
            xmlns='http://www.w3.org/2000/svg'
            onClick={goToUserProfile}
          >
            <path
              d='M5.21421 3.69861L4.46528 3.65861L4.46528 3.65861L5.21421 3.69861ZM8.92421 2.16188L8.42292 2.71974L8.42292 2.71974L8.92421 2.16188ZM3.11048 5.80235L3.15048 6.55128L3.15048 6.55128L3.11048 5.80235ZM1.57374 9.51235L1.01589 10.0136L1.01589 10.0136L1.57374 9.51235ZM1.57374 12.4875L2.1316 12.9888L2.1316 12.9888L1.57374 12.4875ZM3.11048 16.1975L3.07048 16.9464L3.07048 16.9464L3.11048 16.1975ZM5.21421 18.3012L4.46528 18.3412L4.46528 18.3412L5.21421 18.3012ZM8.92421 19.8379L9.4255 20.3958L9.42551 20.3958L8.92421 19.8379ZM11.8993 19.8379L12.4006 19.2801L12.4006 19.2801L11.8993 19.8379ZM15.6093 18.3012L16.3583 18.3412L16.3583 18.3412L15.6093 18.3012ZM17.7131 16.1975L17.6731 15.4485L17.6731 15.4485L17.7131 16.1975ZM19.2498 12.4875L19.8077 11.9862L19.8077 11.9862L19.2498 12.4875ZM19.2498 9.51235L19.8077 10.0136L19.8077 10.0136L19.2498 9.51235ZM17.7131 5.80235L17.6731 6.55128L17.6731 6.55128L17.7131 5.80235ZM15.6093 3.69861L16.3583 3.65861L16.3583 3.65861L15.6093 3.69861ZM11.8993 2.16188L12.4006 2.71974L12.4006 2.71974L11.8993 2.16188ZM5.96315 3.73861C6.02928 2.50037 7.50059 1.89093 8.42292 2.71974L9.4255 1.60402C7.56559 -0.0673005 4.59864 1.16165 4.46528 3.65861L5.96315 3.73861ZM3.15048 6.55128C4.66901 6.47018 5.88205 5.25714 5.96315 3.73861L4.46528 3.65861C4.42506 4.41165 3.82352 5.0132 3.07048 5.05342L3.15048 6.55128ZM2.1316 9.01106C1.30279 8.08872 1.91223 6.61741 3.15048 6.55128L3.07048 5.05342C0.573516 5.18677 -0.655435 8.15372 1.01589 10.0136L2.1316 9.01106ZM2.1316 12.9888C3.14802 11.8577 3.14802 10.1422 2.1316 9.01106L1.01589 10.0136C1.51993 10.5746 1.51993 11.4253 1.01589 11.9862L2.1316 12.9888ZM3.15047 15.4485C1.91223 15.3824 1.3028 13.9111 2.1316 12.9888L1.01589 11.9862C-0.655435 13.8461 0.573516 16.8131 3.07048 16.9464L3.15047 15.4485ZM5.96315 18.2612C5.88204 16.7427 4.66901 15.5296 3.15047 15.4485L3.07048 16.9464C3.82352 16.9866 4.42506 17.5882 4.46528 18.3412L5.96315 18.2612ZM8.42292 19.2801C7.50059 20.1089 6.02928 19.4995 5.96315 18.2612L4.46528 18.3412C4.59864 20.8382 7.56559 22.0671 9.4255 20.3958L8.42292 19.2801ZM12.4006 19.2801C11.2695 18.2637 9.55403 18.2637 8.42292 19.2801L9.42551 20.3958C9.98642 19.8918 10.8371 19.8918 11.3981 20.3958L12.4006 19.2801ZM14.8604 18.2612C14.7943 19.4995 13.323 20.1089 12.4006 19.2801L11.3981 20.3958C13.258 22.0671 16.2249 20.8382 16.3583 18.3412L14.8604 18.2612ZM17.6731 15.4485C16.1546 15.5296 14.9415 16.7427 14.8604 18.2612L16.3583 18.3412C16.3985 17.5882 17 16.9866 17.7531 16.9464L17.6731 15.4485ZM18.692 12.9888C19.5208 13.9111 18.9113 15.3824 17.6731 15.4485L17.7531 16.9464C20.25 16.8131 21.479 13.8461 19.8077 11.9862L18.692 12.9888ZM18.692 9.01105C17.6755 10.1422 17.6755 11.8577 18.692 12.9888L19.8077 11.9862C19.3036 11.4253 19.3036 10.5746 19.8077 10.0136L18.692 9.01105ZM17.6731 6.55128C18.9113 6.61741 19.5208 8.08872 18.692 9.01105L19.8077 10.0136C21.479 8.15372 20.25 5.18677 17.7531 5.05342L17.6731 6.55128ZM14.8604 3.73861C14.9415 5.25714 16.1546 6.47018 17.6731 6.55128L17.7531 5.05342C17 5.0132 16.3985 4.41165 16.3583 3.65861L14.8604 3.73861ZM12.4006 2.71974C13.323 1.89093 14.7943 2.50037 14.8604 3.73861L16.3583 3.65861C16.2249 1.16165 13.258 -0.067301 11.3981 1.60402L12.4006 2.71974ZM8.42292 2.71974C9.55403 3.73616 11.2695 3.73616 12.4006 2.71974L11.3981 1.60402C10.8371 2.10806 9.98642 2.10806 9.4255 1.60402L8.42292 2.71974ZM13.6626 11.0001C13.6626 12.795 12.2075 14.2501 10.4126 14.2501V15.7501C13.0359 15.7501 15.1626 13.6234 15.1626 11.0001H13.6626ZM10.4126 7.75006C12.2075 7.75006 13.6626 9.20514 13.6626 11.0001H15.1626C15.1626 8.37671 13.0359 6.25006 10.4126 6.25006V7.75006ZM7.16256 11.0001C7.16256 9.20514 8.61763 7.75006 10.4126 7.75006V6.25006C7.78921 6.25006 5.66256 8.37671 5.66256 11.0001H7.16256ZM10.4126 14.2501C8.61763 14.2501 7.16256 12.795 7.16256 11.0001H5.66256C5.66256 13.6234 7.78921 15.7501 10.4126 15.7501V14.2501Z'
              fill=''
            />
          </TopIcon>
        </button>
      </Top>
    </>
  );
};

export default TopBar;
